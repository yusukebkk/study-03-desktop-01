<html>
    <head>
        <title>eelテスト</title>
        <link rel="stylesheet" href="./style.css">
    </head>
    <body>
        <h1>eelテスト</h1>
        <form>
            <label>CSVファイル名</label><input id="fileName" type="text" value="source.csv" required><br>
            <label>検索キーワード</label><input id="keyword" type="text" required>
            <button id="submit" type="button">検索する</button>
        </form>
        <textarea id="resultArea">a</textarea>

        <script type="text/javascript" src="./eel.js"></script>
        <script>
            const search = document.getElementById('submit')
            search.addEventListener('click', () => {
                async function run() {
                    const fileName = document.getElementById('fileName').value
                    const keyword = document.getElementById('keyword').value
                    let result = await eel.kimetsu_search(fileName,keyword)();
                    return result;
                }
                run().then(result =>{
                    const resultArea = document.getElementById("resultArea");
                    console.log(result);
                    resultArea.textContent = resultArea.textContent+result;
                });
            })

            eel.expose(view_log_js)
            function view_log_js(text){
            }
        </script>
    </body>
</html>